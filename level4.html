<!DOCTYPE html>
<html lang="en">
  <head>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet">
    <link href="https://fonts.googleapis.com/css2?family=VT323&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.11.3/font/bootstrap-icons.css">

    <style>
      body {
        background: #000;
        color: #0f0;
        font-family: 'VT323';
        display: flex;
        align-items: center;
        justify-content: center;
        height: 100vh;
      }

      .terminal {
        border: 2px solid #0f0;
        padding: 40px;
        background: #050505;
        box-shadow: 0 0 20px #0f0;
        width: 500px;
      }

      input {
        background: transparent;
        border: none;
        border-bottom: 2px solid #0f0;
        color: #0f0;
        outline: none;
        width: 100%;
        font-size: 1.5rem;
      }
      /* Pixel Border Styling */
      .pixel-box {
        border: 4px solid white;
        box-shadow: 4px 4px 0px #333;
        background: rgba(20, 20, 20, 0.9);
        position: relative;
      }
      .pixel-box .content {
       text-align: left;
      }
      /* Typewriter */
      .typewriter { overflow: hidden; border-right: .15em solid orange; white-space: nowrap; 
                      margin: 0 auto; letter-spacing: .15em; animation: typing 3.5s steps(40, end), blink-caret .75s step-end infinite; }
      @keyframes typing { from { width: 0 } to { width: 100% } }
      @keyframes blink-caret { from, to { border-color: transparent } 50% { border-color: orange; } }
      
      /* ===== PIXEL TOAST ===== */
      .pixel-toast {
        position: fixed;
        top: 25px;
        left: 50%;
        transform: translateX(-50%) translateY(-20px);
        background: #050505;
        border: 3px solid #00ffcc;
        color: #00ffcc;
        font-family: 'VT323';
        font-size: 22px;
        letter-spacing: 2px;
        padding: 12px 28px;
        z-index: 9999;
        opacity: 0;
        pointer-events: none;
        box-shadow: 0 0 0 2px #000, 0 0 15px rgba(0,255,204,0.4);
        transition: all 0.35s ease;
      }
      .pixel-toast.warning {
        border-color: #ffc107;
        color: #ffc107;
      }

      .pixel-toast.danger {
        border-color: #ff3c3c;
        color: #ff3c3c;
      }
      .pixel-toast.warning { box-shadow: 0 0 15px rgba(255,193,7,.4); }
      .pixel-toast.danger { box-shadow: 0 0 15px rgba(255,60,60,.4); }
      .pixel-toast.success { box-shadow: 0 0 15px rgba(0,255,136,.4); }

      .pixel-toast.show {
        opacity: 1;
        transform: translateX(-50%) translateY(0);
      }

      .pixel-toast.error {
        border-color: #ff3c3c;
        color: #ff3c3c;
      }

      .pixel-toast.success {
        border-color: #00ff88;
        color: #00ff88;
      }

    </style>
  </head>

  <body>
    <div id="pixelToast" class="pixel-toast">
      <span id="pixelToastText">SYSTEM MESSAGE</span>
    </div>

    <div class="py-5" align="center">
      <h2 class="text-center text-uppercase mb-5">BAGOHIN ANG PANGALAN</h2>      
      <div class="terminal text-center">
        <p class="mb-4">SYSTEM_OVERWRITE: ENTER_NEW_NAME...</p>
        <input type="text" id="nameInput" placeholder="TYPE_HERE" autocomplete="off">
        <p id="msg" class="mt-3 small text-uppercase"></p>
        <button class="btn btn-outline-success mt-4 w-100" onclick="validate()">EXECUTE OVERWRITE</button>
      </div>
      <div class="pixel-box p-4 w-100 mt-5 mb-3 d-flex align-items-center">
          <div class="avatar border-end pe-3 me-3">
              <img src="/assets/avatar-3.png" width="80" alt="Juan">
          </div>
          <div class="content">
              <h4 class="text-warning">JUAN</h4>
              <p class="typewriter" id="dialogue">"Ang pangalan ko ay nasa posters na. Kailangan ko ng bagong pagkakakilanlan."</p>
          </div>
      </div>
    </div>
    <script>
      function showToast(message, type="error") {

        const toast = document.getElementById("pixelToast");
        const text = document.getElementById("pixelToastText");

        text.innerHTML = message;

        toast.classList.remove("error","success","warning","danger");
        toast.classList.add(type);

        toast.classList.add("show");

        setTimeout(()=>{
          toast.classList.remove("show");
        }, 2500);
      }

      function validate() {

        const val = document.getElementById('nameInput').value.trim();

        // Empty
        if (val.length === 0) {
          showToast("<i class='bi bi-exclamation-triangle-fill me-2'></i>MAGTYPE MUNA NG PANGALAN", "warning");
          return;
        }

        // Block JUAN first (Danger priority)
        if (val.toLowerCase().includes('juan')) {
          showToast("<i class='bi bi-ban-fill me-2'></i>NAKABLACKLIST ANG PANGALANG ITO", "danger");
          return;
        }

        // Letters Only (Warning)
        const lettersOnly = /^[A-Za-z]+$/;
        if (!lettersOnly.test(val)) {
          showToast("<i class='bi bi-exclamation-triangle-fill me-2'></i>TITIK LAMANG ANG MAAARI", "warning");
          return;
        }

        // SUCCESS
        showToast("<i class='bi bi-check-circle-fill me-2'></i>BAGONG IDENTIDAD AY HANDA NA", "success");

        setTimeout(() => {
          location.href = 'level5.html';
        }, 1200);
      }


    </script>

  </body>

</html>